Version 4
SHEET 1 880 688
WIRE -912 -624 -1040 -624
WIRE -704 -624 -848 -624
WIRE -3664 -560 -3664 -624
WIRE -3344 -560 -3344 -608
WIRE -2400 -560 -2400 -608
WIRE -2032 -560 -2032 -608
WIRE -1040 -528 -1040 -624
WIRE -1040 -528 -1088 -528
WIRE -992 -528 -1040 -528
WIRE -832 -528 -912 -528
WIRE -704 -528 -704 -624
WIRE -704 -528 -752 -528
WIRE -656 -528 -704 -528
WIRE -3200 -480 -3200 -528
WIRE -1888 -480 -1888 -528
WIRE -3488 -432 -3552 -432
WIRE -3344 -432 -3344 -480
WIRE -3344 -432 -3408 -432
WIRE -3264 -432 -3344 -432
WIRE -2192 -432 -2272 -432
WIRE -2032 -432 -2032 -480
WIRE -2032 -432 -2112 -432
WIRE -1952 -432 -2032 -432
WIRE -3664 -384 -3664 -480
WIRE -3616 -384 -3664 -384
WIRE -2400 -384 -2400 -480
WIRE -2336 -384 -2400 -384
WIRE -3664 -336 -3664 -384
WIRE -2400 -336 -2400 -384
WIRE -3200 -304 -3200 -384
WIRE -1888 -304 -1888 -384
WIRE -3552 -288 -3552 -336
WIRE -2272 -288 -2272 -336
WIRE -2928 -272 -2928 -320
WIRE -2528 -272 -2528 -320
WIRE -3664 -208 -3664 -256
WIRE -2400 -208 -2400 -256
WIRE -896 -192 -1056 -192
WIRE -720 -192 -816 -192
WIRE -1520 -176 -1520 -224
WIRE -1552 -160 -1632 -160
WIRE -1376 -144 -1488 -144
WIRE -3200 -128 -3200 -224
WIRE -2928 -128 -2928 -208
WIRE -2928 -128 -3200 -128
WIRE -2848 -128 -2928 -128
WIRE -2528 -128 -2528 -208
WIRE -2528 -128 -2608 -128
WIRE -2256 -128 -2528 -128
WIRE -1888 -128 -1888 -224
WIRE -1888 -128 -2256 -128
WIRE -1552 -128 -1888 -128
WIRE -2928 -64 -2928 -128
WIRE -2528 -64 -2528 -128
WIRE -1520 -64 -1520 -112
WIRE -3200 -48 -3200 -128
WIRE -2256 -48 -2256 -128
WIRE -1888 -48 -1888 -128
WIRE -1056 -48 -1056 -192
WIRE -896 -48 -1056 -48
WIRE -720 -48 -816 -48
WIRE -1632 0 -1632 -160
WIRE -1376 0 -1632 0
WIRE -2928 48 -2928 0
WIRE -2528 48 -2528 0
WIRE -1632 64 -1632 0
WIRE -1056 96 -1056 -48
WIRE -896 96 -1056 96
WIRE -880 96 -896 96
WIRE -720 96 -816 96
WIRE -3200 112 -3200 32
WIRE -2256 112 -2256 32
WIRE -1888 112 -1888 16
WIRE -3344 160 -3440 160
WIRE -3264 160 -3344 160
WIRE -2400 160 -2496 160
WIRE -2320 160 -2400 160
WIRE -2032 160 -2128 160
WIRE -1952 160 -2032 160
WIRE -1632 176 -1632 144
WIRE -3440 208 -3440 160
WIRE -3344 208 -3344 160
WIRE -2496 208 -2496 160
WIRE -2400 208 -2400 160
WIRE -2128 208 -2128 160
WIRE -2032 208 -2032 160
WIRE -1056 240 -1056 96
WIRE -896 240 -1056 240
WIRE -720 240 -816 240
WIRE -3200 256 -3200 208
WIRE -2256 256 -2256 208
WIRE -1888 256 -1888 208
WIRE -3344 320 -3344 288
WIRE -2400 320 -2400 288
WIRE -2032 320 -2032 288
WIRE -3440 368 -3440 288
WIRE -2496 368 -2496 288
WIRE -2128 368 -2128 288
WIRE -1056 384 -1056 240
WIRE -896 384 -1056 384
WIRE -720 384 -816 384
WIRE -1056 432 -1056 384
FLAG -1888 256 0
FLAG -1888 -528 Vdd
FLAG -3440 -112 Vdd
FLAG -3440 -32 0
FLAG -1632 176 0
FLAG -1520 -224 Vdd
FLAG -2128 368 INTEGRATE
FLAG -2400 -608 HIGHSIDE_R
FLAG -2496 368 LOWSIDE_R
FLAG -2256 256 0
FLAG -1376 -144 OUT
IOPIN -1376 -144 Out
FLAG -1520 -64 0
FLAG -2848 -128 DUT1
IOPIN -2848 -128 BiDir
FLAG -2608 -128 DUT2
IOPIN -2608 -128 BiDir
FLAG -3200 -528 Vdd
FLAG -3200 256 0
FLAG -3440 368 MEAS_C
FLAG -1088 -528 DUT1
IOPIN -1088 -528 BiDir
FLAG -656 -528 DUT2
IOPIN -656 -528 BiDir
FLAG -720 -192 MEAS_LR
FLAG -720 -48 MEAS_C
FLAG -720 96 HIGHSIDE_R
FLAG -720 240 LOWSIDE_R
FLAG -720 384 INTEGRATE
FLAG -2400 320 0
FLAG -2032 -608 Vdd
FLAG -3552 -288 0
FLAG -3664 -208 0
FLAG -3664 -624 MEAS_LR
FLAG -2400 -208 0
FLAG -2272 -288 0
FLAG -3344 320 0
FLAG -2032 320 0
FLAG -1056 432 0
FLAG -2528 -320 Vdd
FLAG -2528 48 0
FLAG -2928 48 0
FLAG -2928 -320 Vdd
FLAG -3344 -608 Vdd
FLAG -1376 0 VCOMP
IOPIN -1376 0 Out
SYMBOL res -1904 -320 R0
SYMATTR InstName R
SYMATTR Value 100k
SYMBOL cap -1904 -48 R0
SYMATTR InstName C
SYMATTR Value 1µ
SYMBOL voltage -3440 -128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -1632 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vcomp
SYMATTR Value 2.469
SYMBOL npn -1952 112 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res -2048 192 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL pnp -1952 -384 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res -2272 -64 R0
SYMATTR InstName R3
SYMATTR Value 33
SYMBOL npn -2320 112 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res -2512 192 R0
SYMATTR InstName R33
SYMATTR Value 3.3k
SYMBOL ind -1008 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 1 52 VBottom 2
SYMATTR InstName Lt
SYMATTR Value 100µ
SYMBOL Comparators\\LTC6752 -1520 -208 R0
SYMATTR InstName U2
SYMBOL npn -3264 112 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res -3456 192 R0
SYMATTR InstName R5
SYMATTR Value 3.3k
SYMBOL res -736 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rt
SYMATTR Value 0.01
SYMBOL cap -848 -640 R90
WINDOW 0 -3 31 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Ct
SYMATTR Value 1f
SYMBOL voltage -800 -192 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 2.4
SYMBOL voltage -800 -48 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 0.4
SYMBOL voltage -800 96 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 36 58 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 0.4
SYMBOL voltage -800 240 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0.4 2.4 0.001 0.00000001 0.00000001 0.009 0.025 2)
SYMBOL voltage -800 384 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 0.4
SYMBOL res -2048 -576 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL npn -3616 -432 R0
SYMATTR InstName Q6
SYMATTR Value 2N3904
SYMBOL pnp -3264 -384 M180
SYMATTR InstName Q7
SYMATTR Value 2N3906
SYMBOL res -3680 -352 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res -3680 -576 R0
SYMATTR InstName R9
SYMATTR Value 3.3k
SYMBOL res -3216 -320 R0
SYMATTR InstName RsenseH
SYMATTR Value 0.01
SYMBOL npn -2336 -432 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res -2416 -352 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -2416 -576 R0
SYMATTR InstName R12
SYMATTR Value 3.3k
SYMBOL res -3360 192 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -2416 192 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res -2144 192 R0
SYMATTR InstName R13
SYMATTR Value 3.3k
SYMBOL res -3216 -64 R0
SYMATTR InstName RsenseL
SYMATTR Value 0.01
SYMBOL schottky -2512 -208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -2512 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -2912 0 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -3360 -576 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL schottky -2912 -208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -3392 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 3.3k
SYMBOL res -2096 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 3.3k
TEXT -1008 512 Left 2 !.tran 0 0.05 0 0.000001
TEXT -1688 -336 Left 2 ;Internal to TM4C123
TEXT -1096 -336 Left 2 ;Microprocessor Output Stimuli
RECTANGLE Normal -1232 288 -1696 -304 2
RECTANGLE Normal -544 592 -1104 -304 2
